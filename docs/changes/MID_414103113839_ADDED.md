# New MID Added: 414103113839

**Date**: 2025-10-31  
**MID ID**: 414103113839  
**MID Name**: Sendsco - LIVE - Mastercard 6

## Changes Made

### 1. CSV File Updated
**File**: `/opt/payment-webhook/Terminal_MidIDs.csv`
- Added new entry at line 2: `414103113839,Sendsco - LIVE - Mastercard 6`

### 2. Database Updated
**Table**: `mid_mapping`
- Imported CSV to database using `mid_import.py`
- Total MID mappings in database: 63
- New entry created with timestamp: 2025-10-31 18:14:47

### 3. Transactions Backfilled
**Backfill Results**:
- **webhook_events**: Updated 1,058 records with new mid_name
- **transactions**: Updated 1,037 records with new mid_name
- All existing transactions now have proper mid_name populated

### 4. Verification Results

#### Transaction Statistics:
- **Total transactions with this MID**: 1,058
- **First transaction**: 2025-10-31 15:05:41
- **Last transaction**: 2025-10-31 18:16:44
- **Time range**: ~3 hours of activity

#### Top Banks Processing This MID (Last 24h):
1. TURKIYE GARANTI BANKASI A.S. - 249 transactions
2. AKBANK T.A.S. - 231 transactions
3. DENIZBANK A.S. - 117 transactions
4. YAPI VE KREDI BANKASI A.S. - 114 transactions
5. QNB FINANSBANK A.S. - 84 transactions

### 5. Automatic Integration

✅ **Webhook Integration**: The `webhook_app.py` has a `get_mid_name()` function that automatically looks up mid_name from mid_mapping table for new incoming transactions.

✅ **Monitoring System**: The `payment_monitor.py` now includes this MID in:
- Performance monitoring across all time windows (5min, 15min, 30min)
- Telegram alerts with merchant breakdown
- Low-volume failure detection

✅ **Grafana Dashboards**: All existing views will automatically include this new MID since they query the transactions table which now has the mid_name populated.

## Files Modified

1. `/opt/payment-webhook/Terminal_MidIDs.csv` - CSV file with MID mappings
2. Database table `mid_mapping` - MID lookup table
3. Database table `transactions` - 1,037 records updated
4. Database table `webhook_events` - 1,058 records updated

## Future Transactions

All future transactions with `mid_id = 414103113839` will automatically receive:
- `mid_name = "Sendsco - LIVE - Mastercard 6"`
- Proper monitoring and alerting
- Merchant breakdown in Telegram alerts
- Grafana dashboard visibility

## Status

✅ **COMPLETE** - MID successfully added to all systems
